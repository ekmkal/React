(this.webpackJsonphackyourweather=this.webpackJsonphackyourweather||[]).push([[0],{179:function(e,t,c){},180:function(e,t,c){},319:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(83),s=c.n(r),i=(c(179),c(180),c(66)),o=c(19),j=c(37),u=c.n(j),b=c(113),h=c(85),d=c(18),l=c(169),m=c(3),O=function(e){var t=e.removeCity,c=e.cityId;return Object(m.jsx)("button",{className:"city-box__remove-button",onClick:function(){return t(c)},children:Object(m.jsx)(l.a,{})})},p=function(e){var t=e.cityId,c=e.city,a=e.country,n=e.weatherMain,r=e.weatherDesc,s=e.maxTemp,o=e.minTemp,j=e.lat,u=e.lon,b=e.removeCity;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"city-box",children:[Object(m.jsxs)("div",{className:"city-box__info",children:[Object(m.jsx)(i.b,{to:{pathname:"/".concat(t),state:{city:c,country:a}},children:Object(m.jsxs)("h2",{className:"city-box__info-header",children:[c,", ",a]})}),Object(m.jsxs)("div",{className:"city-box__info-weather",children:[Object(m.jsx)("h3",{children:n}),Object(m.jsx)("p",{children:r})]}),Object(m.jsxs)("p",{children:["max temp: ",s]}),Object(m.jsxs)("p",{children:["min temp: ",o]}),Object(m.jsxs)("p",{children:["location: ",j,", ",u]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(O,{removeCity:b,cityId:t})})]})})},x=function(e){var t=e.cityWeather,c=e.removeCity;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(p,{cityId:e.id,city:e.name,country:e.sys.country,weatherMain:e.weather[0].main,weatherDesc:e.weather[0].description,maxTemp:e.main.temp_max,minTemp:e.main.temp_min,lat:e.coord.lat,lon:e.coord.lon,removeCity:c},e.id)}))})},f=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(d.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(!1),l=Object(d.a)(j,2),O=l[0],p=l[1],f=Object(a.useState)(!1),y=Object(d.a)(f,2),v=y[0],g=y[1],w=Object(a.useState)(""),_=Object(d.a)(w,2),k=_[0],N=_[1],S=function(){var e=Object(h.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(c.length<=1)){e.next=3;break}return e.abrupt("return");case 3:return g(!1),p(!0),e.prev=6,e.next=9,fetch("\n                https://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&units=metric&appid=").concat("e8cf928279ca9daa33a1a754eec6e10d","\n            "));case 9:return a=e.sent,e.next=12,a.json();case 12:r=e.sent,i.find((function(e){return e.id===r.id}))||200!==r.cod?o(Object(b.a)(i)):o([r].concat(Object(b.a)(i))),404===a.status?N(r.message.charAt(0).toUpperCase()+r.message.slice(1)):N(""),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),g(!0);case 20:p(!1),n("");case 23:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"search-bar",children:[Object(m.jsxs)("form",{onSubmit:S,children:[Object(m.jsx)("input",{className:"search-bar__input",type:"text",value:c,placeholder:"Search City",onChange:function(e){n(e.target.value)}}),Object(m.jsx)("input",{className:"search-bar__submit",type:"submit",value:"Search"})]}),Object(m.jsxs)("div",{children:[0===i.length&&!1===v&&""===k&&Object(m.jsx)("h3",{children:"No city search yet!"}),!0===v&&Object(m.jsx)("h3",{children:"An error occured, try again!"}),""!==k&&Object(m.jsxs)("h3",{children:[k,"!"]}),!0===O&&Object(m.jsx)("div",{className:"loader"})]})]}),i.length>0&&Object(m.jsx)(x,{cityWeather:i,removeCity:function(e){o(i.filter((function(t){if(t.id!==e)return t})))}})]})},y=c(321),v=c(325),g=c(166),w=c(167),_=c(75),k=c(170),N=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],j=s[1],b=Object(a.useState)(!1),l=Object(d.a)(b,2),O=l[0],p=l[1],x=Object(a.useState)(""),f=Object(d.a)(x,2),N=f[0],S=f[1],C=Object(o.f)(),F=C.state.city,T=C.state.country,I=Object(o.e)(),B=function(){var e=Object(h.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),j(!0),e.prev=2,e.next=5,fetch("\n                https://api.openweathermap.org/data/2.5/forecast?q=".concat(F,"&units=metric&appid=").concat("e8cf928279ca9daa33a1a754eec6e10d","\n            "));case 5:return t=e.sent,e.next=8,t.json();case 8:c=e.sent,404===t.status&&S("Not found!!!"),404===t.status?setTimeout((function(){I.goBack()}),4e3):n(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),p(!0),setTimeout((function(){I.goBack()}),4e3);case 17:j(!1);case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){B()}),[]);var D=c.list;return Object(m.jsxs)("div",{className:"city-page",children:[Object(m.jsx)("h2",{children:"5 Day Forecast"}),Object(m.jsxs)("h2",{children:[F,", ",T]}),!0===i&&Object(m.jsx)("div",{className:"loader"}),""!==N&&Object(m.jsx)("div",{children:"Something went wrong, you'll be directed to the home page..."}),!0===O&&Object(m.jsx)("div",{children:"An error occured, you'll be directed to the home page..."}),Object(m.jsxs)(y.a,{className:"city-page__chart",width:1e3,height:400,data:D,margin:{top:10,right:30,left:0,bottom:0},children:[Object(m.jsx)(v.a,{strokeDasharray:"3 3"}),Object(m.jsx)(g.a,{dataKey:"dt_txt"}),Object(m.jsx)(w.a,{}),Object(m.jsx)(_.a,{}),Object(m.jsx)(k.a,{type:"monotone",dataKey:"main.temp",stroke:"#8884d8",fill:"#feb47b"})]}),Object(m.jsx)("button",{className:"city-page__go-back",onClick:function(){return I.goBack()},children:"Go Back"})]})};var S=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("h1",{className:"main-header",children:"Weather"}),Object(m.jsx)(o.a,{path:"/",exact:!0,component:f}),Object(m.jsx)(o.a,{path:"/:cityId",component:N})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,327)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),C()}},[[319,1,2]]]);
//# sourceMappingURL=main.b0be4bf4.chunk.js.map